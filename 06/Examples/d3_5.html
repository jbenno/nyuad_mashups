<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
        <input type="text" />
        <button type="submit">Start</button>
    <svg id="data">
    <rect id="chart" x=20 y=20 width=100 height=50 />
    </svg>
 
    <script>
    
        
    let a=d3.select("button").on("click", function()
                                 {
        let ds1 = d3.select("input").property('value');
        let sel = d3.select( "#chart" )
            .attr("fill", (ds1<0 ? "red" : "green"))
            .attr("transform" , "translate(50,50) rotate(" + ds1 + ")");
        
    let b = sel.on("click", function() {
    
        var d = undefined, c = undefined;
        var drag = d3.drag()            
        .on( "start", function() {                                
            c = sel.attr( "fill" );
            d = sel.attr( "fill", "lime" );
        } )
        .on( "drag", function() {                                 
            var pt = d3.mouse( d3.select( this ).node() );
            d.attr( "x", pt[0] ).attr( "y", pt[1] );
        } )
        .on( "end", function() {                                  
            d.attr( "fill", c );
            d = undefined;
        } );
    drag( sel );       
})
    });
    </script>
    
</body></html>